"use strict";(()=>{function x(){let t=$(".nav"),e=$(t).height();$(window).on("scroll",()=>{t.length&&(window.scrollY>e?t.addClass("fixed"):t.removeClass("fixed"))});function n(l,r){$(l).each(function(){new MutationObserver(u=>{u.forEach(f=>{f.type==="attributes"&&f.attributeName==="class"&&r(f.target)})}).observe(this,{attributes:!0,attributeFilter:["class"]})})}function i(l){$(l).hasClass("w--open")?t.addClass("open"):t.removeClass("open")}let a,o=!1;n(".w-nav-button",()=>{i(".w-nav-button"),o?($("html, body").scrollTop(a).removeClass("overflow-hidden"),$(".nav").removeClass("open")):(a=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden"),$(".nav").addClass("open")),o=!o})}function T(){window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsfilter",t=>{if(t&&t.length>0){let[n]=t;if(n&&n.resetButtonsData&&n.resetButtonsData.size>0){let i=[...n.resetButtonsData.keys()][0];if(n.filtersData&&n.filtersData[0]){let a=function(o){o>=1?i&&$(i).removeClass("cc-active"):i&&$(i).addClass("cc-active")};var e=a;a(0),n.listInstance.on("renderitems",function(){let o=n.filtersData[0].values.size;a(o),b()})}}}}]),$("[data-empty-clear]").on("click",function(){$(this).closest(".section").find("[fs-cmsfilter-element='clear']").trigger("click")})}function _(){$("[tabs-wrapper]").each(function(){let t=$(this),e=t.find("[tabs-item]"),n=t.find("[tabs-content]"),i="cc-active",a=300;n.not(":first").hide(),e.eq(0).addClass(i),e.click(function(){if($(this).hasClass(i))return;let o=e.index($(this));e.removeClass(i),$(this).addClass(i);let s=n.eq(o),l=s.find("[data-nest]");D(l),n.hide(),s.css({display:"block",opacity:0}),s.animate({opacity:1},a)})})}function D(t){$(t).each(function(){let e=$(this),n=e.attr("data-nest"),i=e.attr("data-collection");if(!e.hasClass("loaded")&&n&&i){let o=e.height();e.css({height:o+"px",overflow:"hidden"}),e.load(`/${i}/${n} [data-nest-list]`,function(s,l){l==="success"&&(e.addClass("loaded"),v(),setTimeout(function(){e.css("height","auto");let r=e.height();e.css("height",o+"px"),gsap.to(e,{height:r,duration:.5,ease:"power2.out",onComplete:function(){e.css({height:"auto",overflow:""})}})},100))})}})}function v(){$(document).ready(function(){$(".index_card-content_tags").each(function(){let t=$(this).closest(".index_card-wrap").find("[data-link-internal]").attr("href"),e=$(this).attr("data-loaded")==="true";if(t&&!e){let n=t,i=$(this),a=document.createElement("div"),o=$(a),s=$(this).find(".content_tag");o.load(n+" [data-tags]",function(l,r){if(r==="success"){let d=$(this).find("[data-tags] p");d.length?(i.empty(),d.each(function(){let c=$(this).text(),u=s.clone();u.text(c),i.append(u)}),i.attr("data-loaded",!0),ScrollTrigger&&ScrollTrigger.refresh()):i.remove()}})}})})}function q(){$(".filter-drodown_list .filter-pill_item").on("click",function(){if($(window).width()<768){let t=$(this).text();$(this).closest(".w-dropdown").find(".w-dropdown-toggle [dropdown-label]").text(t)}})}function A(){$(".border-gradient").each(function(t){let e=$(this),n=t*800;setTimeout(function(){e.addClass("trail-animation")},n)})}function B(){gsap.matchMedia().add("(min-width: 992px)",()=>{$("html").each(function(){let e=gsap.timeline({scrollTrigger:{trigger:$(this),start:"25% top",toggleActions:"play none none reverse"}});return e.to(".page-wrapper",{color:"#171717",backgroundColor:"white"}),e.to("[data-anim-invert]",{filter:"invert(100%)"},"<"),e})})}function b(){if($(".filter-tags_bg").length===0||$(".filter-tags_item").length===0)return;function t(){let e=$(".filter-tags_item.w-radio.cc-active");if(e.length){let n=$(".filter-tags_bg"),i=e.outerWidth(),a=e.outerHeight(),s=e.position().left;gsap.to(n,{left:s,width:i,height:a,duration:.8,ease:"power3.out"})}}t(),$(window).on("resize",function(){t()})}function k(){let t=gsap.timeline({scrollTrigger:{trigger:".university_community_visual",start:"top bottom",end:"bottom center",scrub:!0}});t.from(".university_community_visual-circle path",{scale:.5,stagger:.2,ease:"none",transformOrigin:"50% 50%",duration:1},0),t.to(".university_community_visual-avatar_box",{rotate:15,ease:"none",duration:1},0),t.fromTo($(".university_community_visual-avatar"),{rotate:0,scale:function(e,n){return $(n).hasClass("cc-main")?.7:1}},{rotate:-15,scale:function(e,n){return $(n).hasClass("cc-main")?1:1.1},ease:"none",duration:1},0)}function L(){document.querySelectorAll("[data-marquee-scroll-direction-target]").forEach(t=>{let e=t.querySelector("[data-marquee-collection-target]"),n=t.querySelector("[data-marquee-scroll-target]");if(!e||!n)return;let{marqueeSpeed:i,marqueeDirection:a,marqueeDuplicate:o,marqueeScrollSpeed:s}=t.dataset,l=parseFloat(i),r=a==="right"?1:-1,d=parseInt(o||0),c=parseFloat(s),u=window.innerWidth<479?.25:window.innerWidth<991?.5:1,f=l*(e.offsetWidth/window.innerWidth)*u;if(n.style.marginLeft=`${c*-1}%`,n.style.width=`${c*2+100}%`,d>0){let m=document.createDocumentFragment();for(let g=0;g<d;g++)m.appendChild(e.cloneNode(!0));n.appendChild(m)}let p=t.querySelectorAll("[data-marquee-collection-target]"),h=gsap.to(p,{xPercent:-100,repeat:-1,duration:f,ease:"linear"}).totalProgress(.5);gsap.set(p,{xPercent:r===1?100:-100}),h.timeScale(r),h.play(),t.setAttribute("data-marquee-status","normal"),ScrollTrigger.create({trigger:t,start:"top bottom",end:"bottom top",onUpdate:m=>{let g=m.direction===1,S=g?-r:r;h.timeScale(S),t.setAttribute("data-marquee-status",g?"normal":"inverted")}});let C=gsap.timeline({scrollTrigger:{trigger:t,start:"0% 100%",end:"100% 0%",scrub:0}}),w=r===-1?c:-c,y=-w;C.fromTo(n,{x:`${w}vw`},{x:`${y}vw`,ease:"none"})})}$(document).ready(function(){x(),_(),v(),q(),A(),T(),B(),b(),k(),L()});})();
